---
layout: article
title: Shape Analysis课程笔记20-Correspondence Problems
tags: ["CG", "Geometry Processing", "Shape Analysis"]
key: SA-17
aside:
  toc: true
sidebar:
  nav: SA
---

> 这个系列是[MIT 6.838: Shape Analysis](https://groups.csail.mit.edu/gdpgroup/6838_spring_2021.html)的同步课程笔记。本课程会介绍几何方法在图形学、机器学习、计算机视觉、医疗图像以及建筑设计等相关领域的原理和应用。本节主要介绍曲面对应问题。
<!--more-->

## Surface Correspondence Problems

**曲面对应(surface correspondence)**是指寻找两个曲面的对应关系。以人脑MRI为例，我们知道大脑皮层的不同区域有着相应的功能，很多时候我们需要将两个大脑具有相同功能的区域进行匹配。从几何的角度来看，这样的任务本质是计算两个曲面的对应关系。

<div align=center>
<img src="https://pic1.xuehuaimg.com/proxy/i.imgur.com/gO1eReJ.png" width="80%">
</div>

与曲面对应类似的一个常见任务是**配准(registration)**。二者的主要区别在于配准一般是计算同一物体不同表示之间的对应关系，它的输出一般是不同表示之间的刚性变换；而曲面对应则不仅仅考虑同一个物体的情况，实际上即使是不同类型的物体在很多时候也存在一定的对应关系。

<div align=center>
<img src="https://pic1.xuehuaimg.com/proxy/i.imgur.com/zL4TaiE.png" width="80%">
</div>

### Applications

曲面对应在各种实际工程中都有着大量的应用。在图形学中我们可能会希望把一个模型的纹理变换到另一个模型上，这样的任务需要就需要计算两个不同模型之间的对应关系，称为**纹理迁移(texture transfer)**。

<div align=center>
<img src="https://pic1.xuehuaimg.com/proxy/i.imgur.com/4BLm0sr.png" width="80%">
</div>

类似地，网格的分割也可以考虑使用曲面对应来进行处理：我们可以先在一个相对简单的模型上进行精细的分割，然后利用曲面对应把分割结果映射到新的模型上。

<div align=center>
<img src="https://pic1.xuehuaimg.com/proxy/i.imgur.com/R41u5gf.png" width="80%">
</div>

计算网格的骨架也可以使用类似的方法。

<div align=center>
<img src="https://pic1.xuehuaimg.com/proxy/i.imgur.com/kTrYg7I.png" width="80%">
</div>

基于曲面对应的思想，我们可以把人脸的不同表情对应到一个基准模型上，然后通过插值来实现表情的混合。

<div align=center>
<img src="https://pic1.xuehuaimg.com/proxy/i.imgur.com/lastsx3.png" width="80%">
</div>

当然曲面对应也可以用来进行形状分析。实际上很多形状分析算法都会使用曲面对应技术作为分析前的预处理，这样可以去除各种曲面扫描产生的误差。

<div align=center>
<img src="https://pic1.xuehuaimg.com/proxy/i.imgur.com/f9OUYSK.png" width="80%">
<img src="https://pic1.xuehuaimg.com/proxy/i.imgur.com/38wlBNP.png" width="80%">
</div>

### Geometric Quality

从数学的角度来看，曲面对应的本质是计算两个(或多个)曲面之间的映射$f$。当然我们希望$f$比较易于计算，同时具有双射、低扭曲以及保持原有曲面几何特征等优良性质。

<div align=center>
<img src="https://pic1.xuehuaimg.com/proxy/i.imgur.com/2m0HqTX.png" width="80%">
</div>

实际上低扭曲是一个相当高的要求，很多全局看上去正确的映射在局部可能会有过大的几何扭曲。

<div align=center>
<img src="https://pic1.xuehuaimg.com/proxy/i.imgur.com/oJchEkD.png" width="80%">
</div>

在比较不同的映射时，一种常见做法是统计曲面不同位置映射后与ground truth之间的累计误差。不过需要注意的是几何扭曲大的映射有时反而会有更小的累计误差，因此在设计和比较算法时往往还需要在映射的误差和光滑性上进行权衡。

<div align=center>
<img src="https://pic1.xuehuaimg.com/proxy/i.imgur.com/Q3RG2bQ.png" width="80%">
<img src="https://pic1.xuehuaimg.com/proxy/i.imgur.com/QwC4goV.png" width="80%">
</div>

在一些更现代的工作中人们常常会使用共形扭曲来衡量映射的质量，其描述了映射保持曲面上角度的能力。

<div align=center>
<img src="https://pic1.xuehuaimg.com/proxy/i.imgur.com/gpRDOBg.png" width="80%">
</div>

## Strategies

### Co-Parameterization

## Reference

- [Lecture 21: Surface correspondence algorithms](https://www.youtube.com/watch?v=U91dZPefxS4&list=PLQ3UicqQtfNtUcdTMLgKSTTOiEsCw2VBW&index=29)
- [Correspondence Problems](https://groups.csail.mit.edu/gdpgroup/assets/6838_spring_2021/15_surface_correspondence.pdf)