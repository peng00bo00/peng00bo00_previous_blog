---
layout: article
title: GAMES103课程笔记03-Rigid Body Dynamics
tags: ["GAMES103", "CG"]
key: GAMES103-03
aside:
  toc: true
sidebar:
  nav: GAMES103
---

> 这个系列是GAMES103：基于物理的计算机动画入门([GAMES 103: Intro to Physics
Based Animation](http://games-cn.org/games103/))的同步课程笔记。本课程是计算机动画技术的入门课程，着重介绍各种基于物理的动画仿真模拟技术。本节课主要介绍刚体动力学的相关内容。
<!--more-->

## Rigid Body

**刚体(rigid body)**是指不会发生形变的物体。尽管现实世界中并不存在理想刚体，但只要可以忽略物体的变形我们都可以将其视为是理想刚体。

<div align=center>
<img src="https://i.imgur.com/PdCodDW.png" width="30%">
<img src="https://i.imgur.com/lH9zVLl.png" width="34%">
<img src="https://i.imgur.com/gjgQvGn.png" width="30%">
</div>

同时在游戏以及动画中刚体模型也都拥有非常多的应用：

<div align=center>
<img src="https://i.imgur.com/MERHIFL.gif" width="40%">
<img src="https://i.imgur.com/y07ZG1K.gif" width="40%">
</div>

刚体的运动包括**平移(translation)**和**旋转(rotation)**两部分，在进行仿真时需要计算每个时刻刚体的位姿。

<div align=center>
<img src="https://i.imgur.com/9iaSoGI.png" width="80%">
</div>

由于刚体不存在变形，只要我们知道刚体的位姿就可以计算出刚体上任意点的位置。

<div align=center>
<img src="https://i.imgur.com/bKOc2I8.png" width="80%">
</div>

## Translational Motion

### Integration Methods

我们首先来考虑刚体的平移，根据牛顿定律刚体的位置可以通过在时间上积分来计算：

$$
\mathbf{v} (t^{[1]}) = \mathbf{v} (t^{[0]}) + \mathbf{M}^{-1} \int_{t^{[0]}}^{t^{[1]}} \mathbf{f} (\mathbf{x}(t), \mathbf{v}(t), t) dt
$$

$$
\mathbf{x} (t^{[1]}) = \mathbf{x} (t^{[1]}) + \int_{t^{[0]}}^{t^{[1]}} \mathbf{v} (t) dt
$$

<div align=center>
<img src="https://i.imgur.com/zGaNN2X.png" width="40%">
</div>

积分项通常是通过数值积分来计算，计算方法包括**显式欧拉(explicit Euler)**、**隐式欧拉(implicit Euler)**、**中点法(mid-point)**等：

- Explicit Euler: $\int_{t^{[0]}}^{t^{[1]}} \mathbf{v} (t) dt \approx \Delta t \mathbf{v} (t^{[0]})$
- Implicit Euler: $\int_{t^{[0]}}^{t^{[1]}} \mathbf{v} (t) dt \approx \Delta t \mathbf{v} (t^{[1]})$
- Mid-point: $\int_{t^{[0]}}^{t^{[1]}} \mathbf{v} (t) dt \approx \Delta t \mathbf{v} (t^{[0.5]})$

<div align=center>
<img src="https://i.imgur.com/rwbtfMc.png" width="30%">
<img src="https://i.imgur.com/zdq2WD6.png" width="30%">
<img src="https://i.imgur.com/3VOIwFc.png" width="30%">
</div>

此外，我们还可以将显式和隐式混合起来，在计算速度时使用显式欧拉法而在计算位置时使用隐式欧拉法：

$$
\mathbf{v}^{[1]} = \mathbf{v}^{[0]} + \Delta t \mathbf{M}^{-1} \mathbf{f}^{[0]}
$$

$$
\mathbf{x}^{[1]} = \mathbf{v}^{[0]} + \Delta t \mathbf{v}^{[1]}
$$

这种方法一般称为**半隐式(semi-implicit)**方法，也称为**leapfrog method**。

<div align=center>
<img src="https://i.imgur.com/GlFMPIc.png" width="70%">
</div>

### Types of Forces

## Rotational Motion

## Rigid Body Simulation

## Reference