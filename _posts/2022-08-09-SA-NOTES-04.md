---
layout: article
title: Shape Analysis课程笔记04-Discrete Differential Geometry of Polyline Curves
tags: ["Shape Analysis", "CG"]
key: SA-04
aside:
  toc: true
sidebar:
  nav: SA
---

> 这个系列是[MIT 6.838: Shape Analysis](https://groups.csail.mit.edu/gdpgroup/6838_spring_2021.html)的同步课程笔记。本课程会介绍几何方法在图形学、机器学习、计算机视觉、医疗图像以及建筑设计等相关领域的原理和应用。本节主要介绍离散曲线的相关内容。
<!--more-->

## Discrete Curves

在上一节中我们介绍了曲线的Frenet标架以及winding number等内容，这些概念说明曲线的很多性质可以不依赖于外界坐标而是从曲线自身来推导出来。尽管这些性质都十分优雅，我们还需要关注如何在计算机中来表示曲线的问题。

<div align=center>
<img src="https://i.imgur.com/mum6TZV.png" width="80%">
<img src="https://i.imgur.com/wLcIQPL.png" width="80%">
<img src="https://i.imgur.com/OgD1UCZ.png" width="80%">
</div>

### Old-School Approach

**Bezier曲线(Bezier curve)**是工程中常用的一种曲线形式，我们可以通过一系列控制点来生成一条光滑的曲线。

<div align=center>
<img src="https://i.imgur.com/lR3hoLL.png" width="80%">
</div>

但Bezier曲线本身也存在一些问题，比如说它的弧长是没有闭式解的。这说明我们很难研究Bezier曲线的各种几何性质。

<div align=center>
<img src="https://i.imgur.com/e9Z1ymc.png" width="80%">
</div>

实际上不仅是Bezier曲线，大多数常用曲线的弧长都没有闭式解，即使存在也往往具有非常复杂的形式。

<div align=center>
<img src="https://i.imgur.com/40TsFXi.png" width="80%">
</div>

另一方面，Bezier曲线只能表达有限的一部分曲线形式。

<div align=center>
<img src="https://i.imgur.com/SlrmlcE.png" width="80%">
</div>

因此在这门课中我们选择使用**折线(polyline)**来表达各种类型的曲线。直观来看折线是对光滑曲线的一种近似，通过以直代曲来离散地表达整条曲线。

<div align=center>
<img src="https://i.imgur.com/E7aA9xr.png" width="80%">
</div>

使用折线来近似光滑曲线自然会引入一些问题，比如说原本有良好定义的一些几何量会出现未定义的情况。因此我们需要将原本光滑曲线的各种概念推广到离散的折线上。

<div align=center>
<img src="https://i.imgur.com/XIdAe1C.png" width="80%">
</div>

### Finite Difference Approach

对于离散的几何对象，一种直观的处理方法是使用**有限差分(finite difference)**来近似微分。实际上很多微分性质就是通过对差分取极限的方式来进行推导的。

<div align=center>
<img src="https://i.imgur.com/sOxhiEp.png" width="80%">
</div>

但遗憾的是这种离散差分的形式有时也是不可行的。对于离散表示的函数差异$h$是严格大于0的，因此我们没有办法直接去通过极限来计算微分。

<div align=center>
<img src="https://i.imgur.com/CosEiQ3.png" width="80%">
</div>

### Two Key Considerations

在设计离散几何的相关概念时主要有两点考虑：首先我们希望离散的理论可以收敛到连续几何对象相应的理论上，同时我们还要求离散的理论可以保持对离散几何对象的相应特点。

<div align=center>
<img src="https://i.imgur.com/FHI8g6M.png" width="80%">
</div>

同时还需要注意的是在连续几何对象上成立的概念可能会在离散情况下有着不同的表现形式。这些不同形式都是针对同一概念在离散情况下的近似，但通常情况下它们在离散几何对象的表达形式是不相同的。

<div align=center>
<img src="https://i.imgur.com/FV5XREo.png" width="80%">
</div>

## Signed Curvature on Plane Curves

以二维平面曲线为例，利用Gauss映射可以把曲线映射到单位圆上。

<div align=center>
<img src="https://i.imgur.com/zgyZ8v3.png" width="80%">
</div>

而turning number则给出了封闭曲线的拓扑性质，即逆时针绕原点的旋转数。

<div align=center>
<img src="https://i.imgur.com/GDJeRFc.png" width="80%">
</div>

在中学阶段我们都接触过外角定理，它指出多边形的外角和等于$2\pi$乘以转圈的次数。不难发现外角定理就是turning number在离散情况下的推广。

<div align=center>
<img src="https://i.imgur.com/fLxvB9Y.png" width="80%">
</div>

### Discrete Gauss Map

对于离散曲线我们可以把Gauss映射的概念进行推广。此时在线段上的法向与连续情况相同，而在顶点上的法向则对应相邻两段法向的夹角。这样**离散Gauss映射(discrete Gauss map)**就把折线的线段部分映射为单位圆上的点，而把折线的顶点映射为圆弧。

<div align=center>
<img src="https://i.imgur.com/XpEiKx5.png" width="80%">
<img src="https://i.imgur.com/TAnsm7K.png" width="80%">
<img src="https://i.imgur.com/wgBRbCo.png" width="80%">
</div>

### Integrated Curvature

实际上折线在顶点处的转角等于曲率在dual cell上面的积分。

<div align=center>
<img src="https://i.imgur.com/Pb9P6hw.png" width="80%">
<img src="https://i.imgur.com/aDYboW7.png" width="80%">
</div>

一个有趣的发现是即使两条折线有着不同的曲率，只要转角一致积分后的曲率就是相等的。曲率积分的这一性质对于连续曲线同样是成立的。

<div align=center>
<img src="https://i.imgur.com/ndDXCxZ.png" width="80%">
<img src="https://i.imgur.com/dZiMeEF.png" width="80%">
</div>

这个例子表明在处理离散几何对象中我们往往不会直接计算几何量，而是通过在dual cell上进行积分来进行处理。

<div align=center>
<img src="https://i.imgur.com/kxNtRBz.png" width="80%">
</div>

从这样的角度来看外角定理就是turning number在离散情况下的表现形式，因此它也称为**discrete turning angle theorem**。

<div align=center>
<img src="https://i.imgur.com/wuDrFrh.png" width="80%">
</div>

## Reference

- [Lecture 04：Discrete differential geometry of polyline curves](https://www.youtube.com/watch?v=N30BejHtgss&list=PLQ3UicqQtfNtUcdTMLgKSTTOiEsCw2VBW&index=6&ab_channel=JustinSolomon)
- [Chapter 3：Curves](https://groups.csail.mit.edu/gdpgroup/assets/6838_spring_2021/chapter3.pdf)