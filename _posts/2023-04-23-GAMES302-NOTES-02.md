---
layout: article
title: GAMES302课程笔记02-曲线曲面曲体的建模基础
tags: ["CG", "GAMES302", "Geometry Processing", "IGA"]
key: GAMES302-02
aside:
  toc: true
sidebar:
  nav: GAMES302
---

> 这个系列是GAMES302-等几何分析([GAMES 302: Iso-Geometric Analysis](https://games-cn.org/games302/))的同步课程笔记。课程内容涉及等几何分析的几何建模理论与方法、等几何分析数值求解器研发基础、基于等几何分析的形状/拓扑优化理论与方法、等几何分析与细分造型、深度学习的交叉融合等内容，并对等几何分析的研究趋势及应用前景进行分析展望。本节课主要介绍曲面、曲线和曲体的相关理论。
<!--more-->

## 几何形状的参数表示

### CAGD

**计算机辅助几何设计(Computer Aided Geometric Design, CAGD)**是研究如何使用计算机来辅助工程中几何对象表示和设计的学科。

<div align=center>
<img src="https://images.weserv.nl/?url=i.imgur.com/XBPROBe.png" width="80%">
<img src="https://images.weserv.nl/?url=i.imgur.com/Z8lgxNi.png" width="80%">
</div>

### 解析曲线曲面 VS 自由曲线曲面

随着航空和汽车等现代制造业的发展，传统基于初等解析曲面(平面、圆柱面、锥面、球面、圆环面等)的几何造型设计方法已经不能满足工业生产制造的需求，人们开始使用由数学方法定义的自由曲线曲面来表达复杂的几何外形。我们希望这种由计算机进行表示的方法能够适合计算机进行处理、能够生成满足工业设计的几何形状，同时还能够方便不同系统的交互。

<div align=center>
<img src="https://images.weserv.nl/?url=i.imgur.com/iREvADU.png" width="80%">
<img src="https://images.weserv.nl/?url=i.imgur.com/a9YW7fH.png" width="80%">
</div>

目前常用的几何形状表示方法主要包括显式表示、隐式表示和参数表示三种：

- 显式表示：使用解析的数学表达式来表达
- 隐式表示：使用隐函数来进行表达
- 参数表示：使用参数函数来进行表达

<div align=center>
<img src="https://images.weserv.nl/?url=i.imgur.com/H4hkUb1.png" width="80%">
</div>

### 形状描述的发展

早期的曲线曲面表示方法都是由工业界的工程师来开发的。

<div align=center>
<img src="https://images.weserv.nl/?url=i.imgur.com/WDq6ao0.png" width="80%">
</div>

比如说直线段的参数表示可以通过对两个端点进行插值来得到。

<div align=center>
<img src="https://images.weserv.nl/?url=i.imgur.com/HrozUcq.png" width="80%">
</div>

### 参数曲线

而对于更一般的空间曲线则可以通过不同维度上的参数函数来表示。

<div align=center>
<img src="https://images.weserv.nl/?url=i.imgur.com/dSTh9nF.png" width="80%">
</div>

最基本的表达方式是使用多项式作为曲线的参数函数。

<div align=center>
<img src="https://images.weserv.nl/?url=i.imgur.com/jjxybb7.png" width="80%">
</div>

这种参数曲线的表达方法有很多优势，比如说它是非常精确的而且可以解析地计算曲线的各种几何量。本课程主要介绍以Bézier、B-样条、NURBS曲线曲面为代表的参数化建模技术。

<div align=center>
<img src="https://images.weserv.nl/?url=i.imgur.com/Lp7Q8nT.png" width="80%">
</div>

## 曲线造型理论与算法

### Bézier曲线

前面介绍的基于多项式的参数曲线非常不直观，不适于数值计算与工程设计。因此对于多项式函数的一种改进方式是使用全新的基函数进行表达：

$$
\mathbf{R} (t) = \sum_{i=0}^n \mathbf{R}_i B_{i, n} (t)
$$

其中$$\mathbf{R}_i$$为曲线的第$$i$$个控制点。

<div align=center>
<img src="https://images.weserv.nl/?url=i.imgur.com/czppEhC.png" width="80%">
</div>

Bézier曲线就是这样的一种参数曲线，它由雷诺汽车公司的Bézier提出。Bézier曲线的特点是曲线可以通过控制点的坐标来进行表达，设计人员可以对控制点进行操作来方便地修改曲线。可以说Bézier曲线是CAGD领域早期的重要成果。

<div align=center>
<img src="https://images.weserv.nl/?url=i.imgur.com/d1LFrfj.png" width="80%">
<img src="https://images.weserv.nl/?url=i.imgur.com/QadMu3m.png" width="80%">
</div>

从数学上来看，Bézier曲线是使用[Bernstein基](https://en.wikipedia.org/wiki/Bernstein_polynomial)来表示的多项式函数。Bernstein基可以使用二项式系数来表达：

$$
B_{i, n} (t) = 
\begin{pmatrix}
n \\ i
\end{pmatrix} \
t^i \ (1-t)^{n-i}
$$

<div align=center>
<img src="https://images.weserv.nl/?url=i.imgur.com/hVBYZXH.png" width="80%">
</div>

Bernstein基有很多非常优秀的数学性质：

- 非负性：$$B_{i, n} (t) \leq 0$$
- 单位剖分性：$$\sum_{i=0}^n B_{i, n} (t) = 1$$
- 端点取值为1：$$B_{0, n} (0) = B_{n, n} (1) = 1$$
- $$B_{i, n} (t)$$仅在$$t = \frac{i}{n}$$处取最大值
- 对称性：$$B_{i, n} (1-t) = B_{n-i, n} (t)$$
- 递归定义：$$B_{i, n} (t) = (1-t) \cdot B_{i, n-1} (t) + t \cdot B_{i, n-1} (t)$$

<div align=center>
<img src="https://images.weserv.nl/?url=i.imgur.com/K4xJjVv.png" width="80%">
</div>

利用Bernstein基函数的性质，我们可以推导出Bézier曲线的性质：

- 端点插值：Bézier曲线一定会通过起始和终止两个端点，$$\mathbf{R}(0) = \mathbf{R}_0$$以及$$\mathbf{R}(1) = \mathbf{R}_n$$
- 对称性：Bézier曲线控制顶点的几何地位是对称的
- 端点切向指向相邻控制点
- 凸包性：Bézier曲线位于控制点构成的凸包内
- 几何不变性：Bézier曲线的形状仅与控制多边形有关，与坐标系无关
- 变差缩减性

<div align=center>
<img src="https://images.weserv.nl/?url=i.imgur.com/RclVxDX.png" width="80%">
<img src="https://images.weserv.nl/?url=i.imgur.com/9wC7ZYI.png" width="80%">
<img src="https://images.weserv.nl/?url=i.imgur.com/DHn17jC.png" width="80%">
<img src="https://images.weserv.nl/?url=i.imgur.com/EidpMF3.png" width="80%">
</div>

## 曲面造型理论与算法

## 曲体造型理论与算法

## Reference

- [第二讲: 曲线曲面曲体的建模基础](https://www.bilibili.com/video/BV1dM4y117PS?p=2&vd_source=7a2542c6c909b3ee1fab551277360826)